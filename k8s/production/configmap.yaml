apiVersion: v1
kind: ConfigMap
metadata:
  name: kartol-app-production-config
  namespace: kartol-production
data:
  SPRING_PROFILES_ACTIVE: "production"
  SPRING_DATASOURCE_URL: "${PROD_DB_URL}"
  SPRING_DATASOURCE_USERNAME: "${PROD_DB_USERNAME}"
  SPRING_JPA_HIBERNATE_DDL_AUTO: "validate"
  SPRING_JPA_SHOW_SQL: "false"
  
  # Actuator Configuration
  MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE: "health,info,metrics,prometheus"
  MANAGEMENT_ENDPOINT_HEALTH_SHOW_DETAILS: "when-authorized"
  MANAGEMENT_HEALTH_PROBES_ENABLED: "true"
  MANAGEMENT_METRICS_EXPORT_PROMETHEUS_ENABLED: "true"
  
  # Logging Configuration
  LOGGING_LEVEL_COM_SPRING_JWT: "INFO"
  LOGGING_LEVEL_ORG_SPRINGFRAMEWORK_SECURITY: "WARN"
  LOGGING_LEVEL_ORG_HIBERNATE_SQL: "WARN"
  
  # JWT Configuration
  JWT_EXPIRATION: "86400000"
  
  # Rate Limiting (stricter for production)
  RATE_LIMIT_REQUESTS: "100"
  RATE_LIMIT_WINDOW: "60"
  
  # Email Configuration
  SPRING_MAIL_HOST: "${MAIL_HOST}"
  SPRING_MAIL_PORT: "${MAIL_PORT}"
  SPRING_MAIL_PROPERTIES_MAIL_SMTP_AUTH: "true"
  SPRING_MAIL_PROPERTIES_MAIL_SMTP_STARTTLS_ENABLE: "true"
